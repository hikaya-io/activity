{% extends "base.html" %} {% block content %}
<div class="container">
  {% block breadcrumbs %}
  <ul class="breadcrumb">
    <li><a href="{% url 'admin_profile_settings' %}">Organization Settings</a></li>
    <li class="active">Maps</li>
  </ul>
  {% endblock breadcrumbs %}

  <!-- Sub navigation -->
  <div class="sub-navigation">
    <div class="sub-navigation-header">
      <h4 class="page-title">Organization Settings</h4>
    </div>
  </div>

  <div class="bg-white p-10 pt-0">
    <div class="mb-10">
      {% include 'admin/sections/side-nav.html' %}
    </div>
    <div id="organizationLocation">
        <form id="organizationLocationForm">
            {% csrf_token %}
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="country_code">Country Code</label>
                <div class="col-sm-6">
                    <input type="text" id="country_code" name="country_code" 
                        v-model="country_code" placeholder="Country code" class="form-control" />
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="location_description">Description</label>
                <div class="col-sm-6">
                    <textarea class="form-control" id="location_description" name="location_description" rows="5"
                         v-model="location_description" placeholder="Description"></textarea>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="latitude">Latitude</label>
                <div class="col-sm-6">
                    <input type="text" id="latitude" name="latitude" v-model="latitude" class="form-control" placeholder="Latitude"/>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="longitude">Longitude</label>
                <div class="col-sm-6">
                    <input type="text" id="longitude" name="longitude" v-model="longitude" class="form-control" placeholder="Longitude"/>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-2 col-form-label" for="zoom">Zoom</label>
                <div class="col-sm-6">
                    <input type="number" id="zoom" name="zoom" v-model="zoom" class="form-control" placeholder="Zoom"/>
                </div>
            </div>
            <div class="row">
                <div class="text-right admin-form-actions">
                    <button type="reset" id="reset-config-form" class="btn btn-close">Close</button>
                    <button type="button" class="btn btn-success" @click="updateLocation()">[[ country_code ]]Update</button>
                </div>
            </div>
        </form>
    </div>
  </div>
</div>

<script>
    $('#reset-config-form').click(() => {
        document.location.href = '/accounts/admin/map_settings'
    })
</script>
{% block extra_js_in_body %}
<script type="text/javascript" src="{{ STATIC_URL }}vue.js/organization/organization_location.js"></script>
{% endblock extra_js_in_body %}
{% endblock content %}
